{% macro form_helper(form, action) %}

{% from "_render_field.html" import render_field %}

<form action="{{ url_for(action) }}" method="post">
    {{ form.hidden_tag() }}
    {% for field in form if field not in [form.submit, form.hidden_tag, form.csrf_token] %}
    {{ render_field(field, class="form-control") }}
    {% endfor %}
    {{ form.submit(class="btn btn-primary") }}
</form>

{% endmacro %}